<Window x:Class="CCTV.Views.RecordingPlayerWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:xctk="http://schemas.xceed.com/wpf/xaml/toolkit"
    xmlns:local="clr-namespace:CCTV.Views"
    xmlns:sys="clr-namespace:System;assembly=mscorlib" mc:Ignorable="d" Title="ë…¹í™” ì˜ìƒ ìž¬ìƒ" Height="650" Width="900" WindowStartupLocation="CenterScreen" Background="#F0F0F0" TextElement.Foreground="Black" Loaded="RecordingPlayerWindow_Loaded">
    <Window.Resources>
        <!-- ë¯¸ëž˜ ë‚ ì§œë¥¼ íšŒìƒ‰ìœ¼ë¡œ í‘œì‹œí•˜ê¸° ìœ„í•œ ìŠ¤íƒ€ì¼ -->
        <Style x:Key="DisabledCalendarDayButtonStyle" TargetType="{x:Type CalendarDayButton}">
            <Setter Property="Background" Value="#F0F0F0"/>
            <Setter Property="Foreground" Value="#CCCCCC"/>
            <Setter Property="Opacity" Value="0.5"/>
            <Setter Property="Cursor" Value="No"/>
        </Style>
        
        <!-- ìº˜ë¦°ë” ë‚ ì§œ ë²„íŠ¼ ìŠ¤íƒ€ì¼ -->
        <Style x:Key="WhiteCalendarDayButtonStyle" TargetType="{x:Type CalendarDayButton}">
            <Setter Property="Background" Value="White"/>
            <Setter Property="Foreground" Value="Black"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="Width" Value="40"/>
            <Setter Property="Height" Value="40"/>
            <Setter Property="Margin" Value="2"/>
            <Style.Triggers>
                <DataTrigger Binding="{Binding RelativeSource={RelativeSource Self}, Path=IsBlackedOut}" Value="True">
                    <Setter Property="Background" Value="#F0F0F0"/>
                    <Setter Property="Foreground" Value="#CCCCCC"/>
                    <Setter Property="Opacity" Value="0.5"/>
                </DataTrigger>
                <!-- ì˜¤ëŠ˜ ë‚ ì§œì— ëŒ€í•œ ìŠ¤íƒ€ì¼ ê°œì„  -->
                <DataTrigger Binding="{Binding RelativeSource={RelativeSource Self}, Path=IsToday}" Value="True">
                    <Setter Property="Background" Value="#2196F3"/>
                    <Setter Property="Foreground" Value="White"/>
                    <Setter Property="FontWeight" Value="Bold"/>
                    <Setter Property="BorderBrush" Value="#1565C0"/>
                    <Setter Property="BorderThickness" Value="2"/>
                    <Setter Property="Effect">
                        <Setter.Value>
                            <DropShadowEffect ShadowDepth="1" BlurRadius="3" Opacity="0.5" Color="#000000"/>
                        </Setter.Value>
                    </Setter>
                </DataTrigger>
                <!-- ì„ íƒëœ ë‚ ì§œ ìŠ¤íƒ€ì¼ ìˆ˜ì • - ë” ë°ì€ ë°°ê²½ìƒ‰ ì‚¬ìš© -->
                <DataTrigger Binding="{Binding RelativeSource={RelativeSource Self}, Path=IsSelected}" Value="True">
                    <Setter Property="Background" Value="#42A5F5"/>
                    <Setter Property="Foreground" Value="White"/>
                    <Setter Property="FontWeight" Value="Bold"/>
                    <Setter Property="BorderBrush" Value="#1E88E5"/>
                    <Setter Property="BorderThickness" Value="2"/>
                    <Setter Property="Effect">
                        <Setter.Value>
                            <DropShadowEffect ShadowDepth="1" BlurRadius="2" Opacity="0.3" Color="#000000"/>
                        </Setter.Value>
                    </Setter>
                </DataTrigger>
            </Style.Triggers>
        </Style>
        
        <!-- ìº˜ë¦°ë” ë²„íŠ¼ ìŠ¤íƒ€ì¼ -->
        <Style x:Key="WhiteCalendarButtonStyle" TargetType="{x:Type CalendarButton}">
            <Setter Property="Background" Value="White"/>
            <Setter Property="Foreground" Value="Black"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="Height" Value="20"/>
            <Setter Property="Margin" Value="2"/>
        </Style>

        <!-- ìº˜ë¦°ë” ìŠ¤íƒ€ì¼ ì •ì˜ -->
        <Style x:Key="WhiteCalendarStyle" TargetType="{x:Type Calendar}">
            <Setter Property="Background" Value="White"/>
            <Setter Property="Foreground" Value="Black"/>
            <Setter Property="BorderBrush" Value="#CCCCCC"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="CalendarDayButtonStyle" Value="{StaticResource WhiteCalendarDayButtonStyle}"/>
            <Setter Property="CalendarButtonStyle" Value="{StaticResource WhiteCalendarButtonStyle}"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="Width" Value="350"/>
            <Setter Property="Height" Value="350"/>
            <Setter Property="Margin" Value="2"/>
            <Setter Property="HorizontalAlignment" Value="Left"/>
            <Setter Property="VerticalAlignment" Value="Top"/>
        </Style>

        <!-- DatePicker ìŠ¤íƒ€ì¼ ì •ì˜ -->
        <Style x:Key="WhiteDatePickerStyle" TargetType="{x:Type DatePicker}">
            <Setter Property="Background" Value="White"/>
            <Setter Property="Foreground" Value="Black"/>
            <Setter Property="BorderBrush" Value="#CCCCCC"/>
            <Setter Property="CalendarStyle" Value="{StaticResource WhiteCalendarStyle}"/>
            <Setter Property="VerticalContentAlignment" Value="Center"/>
            <Setter Property="FontSize" Value="12"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type DatePicker}">
                        <Border Background="{TemplateBinding Background}" BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="{TemplateBinding BorderThickness}">
                            <Grid x:Name="PART_Root">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*" />
                                    <ColumnDefinition Width="Auto" />
                                </Grid.ColumnDefinitions>
                                <Button x:Name="PART_Button" Grid.Column="1" Foreground="Black">
                                    ðŸ“…
                                </Button>
                                <DatePickerTextBox x:Name="PART_TextBox" Grid.Column="0" Foreground="Black" Background="White" HorizontalContentAlignment="Left" VerticalContentAlignment="Center" Padding="5,0,0,0" />
                                <Popup x:Name="PART_Popup" PlacementTarget="{Binding ElementName=PART_TextBox}" StaysOpen="False">
                                    <Popup.LayoutTransform>
                                        <ScaleTransform ScaleX="1.0" ScaleY="1.0" />
                                    </Popup.LayoutTransform>
                                </Popup>
                            </Grid>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
    </Window.Resources>
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- ì»¨íŠ¸ë¡¤ íŒ¨ë„ -->
        <Grid Grid.Row="0" Margin="10" Background="#E6E6E6">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>

            <StackPanel Grid.Column="0" Orientation="Horizontal" Margin="5">
                <TextBlock Text="ë‚ ì§œ:" VerticalAlignment="Center" Margin="0,0,5,0" Foreground="Black"/>
                <DatePicker x:Name="DatePicker" Width="110" Margin="0,0,10,0" Style="{StaticResource WhiteDatePickerStyle}" FirstDayOfWeek="Monday" IsTodayHighlighted="True" Loaded="DatePicker_Loaded">
                    <DatePicker.DisplayDateEnd>
                        <Binding Path="." Source="{x:Static sys:DateTime.Today}"/>
                    </DatePicker.DisplayDateEnd>
                </DatePicker>

                <TextBlock Text="ì‹œìž‘:" VerticalAlignment="Center" Margin="0,0,5,0" Foreground="Black"/>
                <xctk:TimePicker x:Name="StartTimePicker" Width="100" Format="Custom" FormatString="HH:mm:ss" Value="00:00:00" Margin="0,0,10,0" Foreground="Black" ToolTip="ì‹œê°„ì„ ìž…ë ¥í•˜ì„¸ìš”. ìˆ«ìžë§Œ ìž…ë ¥í•˜ê³  ì—”í„°ë¥¼ ëˆ„ë¥´ë©´ ìžë™ìœ¼ë¡œ ì‹œê°„ì´ ì„¤ì •ë©ë‹ˆë‹¤.&#x0a;ì˜ˆ: 14 â†’ 14:00:00, 1430 â†’ 14:30:00, 143055 â†’ 14:30:55" />

                <TextBlock Text="ì¢…ë£Œ:" VerticalAlignment="Center" Margin="0,0,5,0" Foreground="Black"/>
                <xctk:TimePicker x:Name="EndTimePicker" Width="100" Format="Custom" FormatString="HH:mm:ss" Value="23:59:59" Margin="0,0,10,0" Foreground="Black" ToolTip="ì‹œê°„ì„ ìž…ë ¥í•˜ì„¸ìš”. ìˆ«ìžë§Œ ìž…ë ¥í•˜ê³  ì—”í„°ë¥¼ ëˆ„ë¥´ë©´ ìžë™ìœ¼ë¡œ ì‹œê°„ì´ ì„¤ì •ë©ë‹ˆë‹¤.&#x0a;ì˜ˆ: 14 â†’ 14:00:00, 1430 â†’ 14:30:00, 143055 â†’ 14:30:55" />

                <Button x:Name="SearchButton" Content="ê²€ìƒ‰" Width="80" Height="30" Click="SearchButton_Click" IsEnabled="False" Background="#007ACC" Foreground="White" Margin="5,0,0,0"/>
            </StackPanel>

            <StackPanel Grid.Column="2" Orientation="Horizontal" HorizontalAlignment="Right" Margin="5">
                <TextBlock x:Name="StatusText" Text="ì¤€ë¹„ë¨" VerticalAlignment="Center" Foreground="Black" Margin="0,0,10,0"/>
            </StackPanel>
        </Grid>

        <!-- ë¹„ë””ì˜¤ í™”ë©´ -->
        <Border Grid.Row="1" BorderBrush="#AAAAAA" BorderThickness="1" Margin="10,0,10,10" Background="Black">
            <Border x:Name="VideoContainer" Width="Auto" Height="Auto" />
        </Border>

        <!-- ìž¬ìƒ ì»¨íŠ¸ë¡¤ ìŠ¬ë¼ì´ë” -->
        <Grid Grid.Row="2" Margin="10,0,10,10">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>

            <TextBlock x:Name="PlayTimeText" Grid.Column="0" Text="--:--:--" Margin="5,0,5,0" VerticalAlignment="Center" Foreground="Black"/>

            <Slider x:Name="ProgressSlider" Grid.Column="1" Minimum="0" Maximum="100" Value="0" VerticalAlignment="Center" Margin="5,0" 
                    ValueChanged="ProgressSlider_ValueChanged"
                    Thumb.DragStarted="ProgressSlider_DragStarted"
                    Thumb.DragCompleted="ProgressSlider_DragCompleted">
                <Slider.Resources>
                    <Style TargetType="{x:Type Thumb}">
                        <Setter Property="Template">
                            <Setter.Value>
                                <ControlTemplate TargetType="{x:Type Thumb}">
                                    <Ellipse Height="15" Width="15" Fill="#007ACC"/>
                                </ControlTemplate>
                            </Setter.Value>
                        </Setter>
                    </Style>
                    <!-- ìŠ¬ë¼ì´ë” ìŠ¤íƒ€ì¼ ì¶”ê°€ -->
                    <Style TargetType="{x:Type Slider}">
                        <Setter Property="Template">
                            <Setter.Value>
                                <ControlTemplate TargetType="{x:Type Slider}">
                                    <Grid>
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="Auto"/>
                                            <RowDefinition Height="Auto" MinHeight="{TemplateBinding MinHeight}"/>
                                            <RowDefinition Height="Auto"/>
                                        </Grid.RowDefinitions>
                                        <Track x:Name="PART_Track" Grid.Row="1">
                                            <Track.DecreaseRepeatButton>
                                                <RepeatButton Command="Slider.DecreaseLarge" Background="#007ACC" Height="4"/>
                                            </Track.DecreaseRepeatButton>
                                            <Track.IncreaseRepeatButton>
                                                <RepeatButton Command="Slider.IncreaseLarge" Background="#DDDDDD" Height="4"/>
                                            </Track.IncreaseRepeatButton>
                                            <Track.Thumb>
                                                <Thumb Style="{StaticResource {x:Type Thumb}}"/>
                                            </Track.Thumb>
                                        </Track>
                                    </Grid>
                                </ControlTemplate>
                            </Setter.Value>
                        </Setter>
                    </Style>
                </Slider.Resources>
            </Slider>

            <TextBlock x:Name="EndTimeText" Grid.Column="2" Text="--:--:--" Margin="5,0,5,0" VerticalAlignment="Center" Foreground="Black"/>
        </Grid>

        <!-- ìž¬ìƒ ì»¨íŠ¸ë¡¤ ë²„íŠ¼ -->
        <Grid Grid.Row="3" Margin="10,0,10,10">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>

            <StackPanel Grid.Column="0" Orientation="Horizontal">
                <Button x:Name="PlayButton" Width="50" Height="50" Margin="5" Padding="4" Click="PlayButton_Click" ToolTip="ìž¬ìƒ" IsEnabled="True" Background="#2196F3" Foreground="White" Content="â–¶"/>

                <Button x:Name="PauseButton" Width="50" Height="50" Margin="5" Padding="4" Click="PauseButton_Click" ToolTip="ì¼ì‹œì •ì§€" IsEnabled="False" Background="#2196F3" Foreground="White" Content="â¸"/>

                <Button x:Name="StopButton" Width="50" Height="50" Margin="5" Padding="4" Click="StopButton_Click" ToolTip="ì •ì§€" IsEnabled="False" Background="#2196F3" Foreground="White" Content="â¹"/>

                <Button x:Name="FastForwardButton" Width="50" Height="50" Margin="5" Padding="4" Click="FastForwardButton_Click" ToolTip="ë¹¨ë¦¬ ê°ê¸°" IsEnabled="False" Background="#2196F3" Foreground="White" Content="â©"/>

                <Button x:Name="SlowButton" Width="50" Height="50" Margin="5" Padding="4" Click="SlowButton_Click" ToolTip="ëŠë¦¬ê²Œ ìž¬ìƒ" IsEnabled="False" Background="#2196F3" Foreground="White" Content="âª"/>

            </StackPanel>

            <StackPanel Grid.Column="2" Orientation="Horizontal" HorizontalAlignment="Right">
                <TextBlock Text="ì±„ë„:" VerticalAlignment="Center" Margin="0,0,5,0" Foreground="Black"/>
                <ComboBox x:Name="ChannelComboBox" Width="80" SelectedIndex="0" Margin="0,0,10,0" Foreground="Black" Background="White" BorderBrush="#AAAAAA" Height="24">

                    <!-- ì½¤ë³´ë°•ìŠ¤ ì•„ì´í…œì— ëŒ€í•œ ìŠ¤íƒ€ì¼ ì •ì˜ -->
                    <ComboBox.ItemContainerStyle>
                        <Style TargetType="{x:Type ComboBoxItem}">
                            <Setter Property="Background" Value="White" />
                            <Setter Property="Foreground" Value="Black" />
                            <Setter Property="HorizontalContentAlignment" Value="Left" />
                            <Setter Property="VerticalContentAlignment" Value="Center" />
                            <Setter Property="Padding" Value="5,2" />
                            <Style.Triggers>
                                <Trigger Property="IsHighlighted" Value="True">
                                    <Setter Property="Background" Value="#E3F2FD" />
                                    <Setter Property="BorderBrush" Value="#007ACC" />
                                </Trigger>
                                <Trigger Property="IsSelected" Value="True">
                                    <Setter Property="Background" Value="#BBDEFB" />
                                </Trigger>
                            </Style.Triggers>
                        </Style>
                    </ComboBox.ItemContainerStyle>

                    <!-- íŒì—… ìŠ¤íƒ€ì¼ë§ -->
                    <ComboBox.Resources>
                        <SolidColorBrush x:Key="{x:Static SystemColors.WindowBrushKey}" Color="White"/>
                        <SolidColorBrush x:Key="{x:Static SystemColors.HighlightBrushKey}" Color="#E3F2FD"/>
                        <SolidColorBrush x:Key="{x:Static SystemColors.ControlTextBrushKey}" Color="Black"/>
                        <SolidColorBrush x:Key="{x:Static SystemColors.HighlightTextBrushKey}" Color="Black"/>
                    </ComboBox.Resources>

                    <!-- ì½¤ë³´ë°•ìŠ¤ ì•„ì´í…œë“¤ -->
                    <ComboBoxItem Content="33ë²ˆ ì±„ë„" />
                </ComboBox>
            </StackPanel>
        </Grid>
    </Grid>
</Window> 